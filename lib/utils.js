"use strict";function init(a){void 0===a&&(a=null),program.version(require("../package.json").version).option("-t, --token [value]","Specify access token").option("-s, --server [value]","Specify f3.js server").option("-v, --verbose","Enable verbose output").option("-c, --clear","Clear configurations"),a&&a(program),program.parse(process.argv);var b=!!program.verbose,c=!!program.clear;b&&(console.log("use verbose mode"),"undefined"==typeof self&&(global.self={}),global.self.debug=!0);var d=require("home-config").load(".f3js-cli");c&&(d.token&&delete d.token,d.server&&delete d.server);var e=/^(((([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9]))|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))(:[0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])?$/;return d.server&&e.test(d.server)&&base.setServerDomainName(d.server),program.server&&e.test(program.server)&&base.setServerDomainName(program.server),d.server=base.getServerDomainName(),b&&console.log("use server",base.getServerDomainName()),program.token?(utils.setToken(program.token),d.token=program.token,d.save(),b&&console.log("use access token","*")):d.token&&(utils.setToken(d.token),b&&console.log("use access token","*")),d.save(),program}var program=require("commander"),base=require("./connector/models/base"),utils=require("./connector/utils");exports.init=init;/*! f3js-cli - v0.0.4 - 2016-06-23 */
